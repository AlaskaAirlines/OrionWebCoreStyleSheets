language: node_js
node_js:
 - "node"
script:
  - npm run copyFonts
  - npm run buildTokens
  - npm run sassLint
  - npm run buildCss
  - npm run cssLint
  - npm run set-patch-root $TRAVIS_BUILD_ID
  - npm run set-patch-src $TRAVIS_BUILD_ID
branches:
  only:
    - master
before_deploy:
  - npm run copyPackage
  - npm run copyReadme
  - npm run copySass
  - npm run changelog
  - npm run concat
  - cd dist
deploy:
  on:
    branch: master
  provider: npm
  email: "$NPM_EMAIL"
  api_key: "$NPM_TOKEN"
  skip_cleanup: true
